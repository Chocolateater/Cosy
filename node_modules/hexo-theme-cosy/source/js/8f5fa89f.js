(()=>{"use strict";const e="cosy-theme:toc-invisible",t="cosy-theme:scrolledHeight",n="cosy-theme:theme",o="dark",r=e=>Promise.all(e.map((e=>new Promise(((t,n)=>{if("css"===e.type){const o=document.createElement("link");o.href=e.url,o.rel="stylesheet",o.onload=()=>t(),o.onerror=()=>n(new Error(`Failed to load CSS from ${e.url}`)),document.head.appendChild(o)}else if("js"===e.type){const o=document.createElement("script");o.src=e.url,e.id&&(o.id=e.id),o.onload=()=>t(),o.onerror=()=>n(new Error(`Failed to load JS from ${e.url}`)),document.body.appendChild(o)}else n(new Error("Invalid resource type specified."))}))))),i=e=>{const{enable:t,jsCdn:n,cssCdn:o}=e;t&&r([{type:"css",url:o},{type:"js",url:n}]).then((e=>{e&&(e=>{const t=/\$\$(.+?)\$\$/g,n=/\\\[(.+?)\\\]/g;function o(e,t,n){let o;const r=[];for(;null!==(o=t.exec(e.nodeValue));){const t=document.createRange();t.setStart(e,o.index),t.setEnd(e,o.index+o[0].length),r.push(t)}for(const e of r){const t=e.toString().replace(/^\$\$|\$\$$|\\\[|\\\]$/g,""),o=document.createElement("span");o.innerHTML=window.katex.renderToString(t,{throwOnError:!1,displayMode:n}),e.deleteContents(),e.insertNode(o)}}document.querySelectorAll(e).forEach((e=>{const r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);let i;for(;i=r.nextNode();)o(i,t,!1),o(i,n,!0)}))})(".article-container")}))};var c=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};const l=e=>{const{enable:t,cdn:n}=e,o=c(e,["enable","cdn"]);t&&r([{type:"js",url:n}]).then((e=>{e&&(((e="vcomments",t=".article-container")=>{const n=document.querySelector(t);if(!n)return;const o=document.createElement("div");o.id=e,n.appendChild(o)})(),new window.Valine(Object.assign({el:"#vcomments"},o)))}))},a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"></path><rect x="9" y="3" width="6" height="4" rx="2"></rect></g></svg>';function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,u(o.key),o)}}function u(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var m=function(e){var t=e.selector,n=e.eventType,o=e.handler,r=document.querySelector(t);null==r||r.addEventListener(n,o)},p=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"emit",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,o=new CustomEvent(e,{detail:t,bubbles:!0,composed:!0});n.dispatchEvent(o)}},{key:"on",value:function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).addEventListener(e,t)}},{key:"off",value:function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).removeEventListener(e,t)}}],t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),v=new p;const f=e=>{document.querySelectorAll(".toc a").forEach((e=>e.classList.remove("active")));const t=document.querySelector('.toc a[href="'+e+'"]');t&&t.classList.add("active")};document.addEventListener("click",(function(e){const t=e.target.closest(".toc-link");if(t){const e=t.getAttribute("href");e&&f(e)}}));const h=()=>{const e=document.createElement("link");var t;e.setAttribute("id","prism-theme"),e.rel="stylesheet",e.type="text/css",e.href=`/lib/prism/one-${null!==(t=localStorage.getItem(n))&&void 0!==t?t:o}.css`,document.head.append(e)};var y;y=()=>{(e=>{const n=document.querySelector(e);if(n){const e=localStorage.getItem(t);e&&(n.scrollTop=Number(e))}})("main.cosy-scrollbar"),window.location.hash&&f(window.location.hash);const{mermaid:n,katex:o,valine:c,twikoo:s}=window;i(Object.assign(Object.assign({},o),{enable:window.page.use.indexOf("katex")>-1})),(e=>{var t;const{enable:n,cdn:o,theme:i}=e;if(n){const e=document.getElementById("src-mermaid");e&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e)),r([{type:"js",url:o,id:"src-mermaid"}]).then((e=>{e&&window.mermaid.initialize({startOnLoad:!0,theme:i||"neutral"})}))}})(Object.assign(Object.assign({},n),{enable:window.page.use.indexOf("mermaid")>-1})),l(Object.assign(Object.assign({},c),{enable:window.page.use.indexOf("valine")>-1})),(e=>{const{enable:t,cdn:n,envId:o,lang:i}=e;t&&r([{type:"js",url:n}]).then((e=>{e&&window.twikoo.init({envId:o,el:"#tcomment",lang:i})}))})(Object.assign(Object.assign({},s),{enable:window.page.use.indexOf("twikoo")>-1})),document.querySelectorAll(".article-container article pre > code").forEach((e=>{const t=e.parentNode;if(!t)return;const n=document.createElement("div");n.classList.add("code-wrapper"),t.parentNode.insertBefore(n,t),n.appendChild(t);const o=document.createElement("div");o.classList.add("btn-wrapper");const r=t.getAttribute("data-language"),i=document.createElement("span");i.classList.add("lang"),i.textContent=r,o.appendChild(i);const c=document.createElement("span");c.className="copy-button",c.innerHTML=a,c.addEventListener("click",(function(){const t=e.textContent;navigator.clipboard.writeText(t).then((()=>{c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"></path><rect x="9" y="3" width="6" height="4" rx="2"></rect><path d="M9 14l2 2l4-4"></path></g></svg>',setTimeout((()=>{c.innerHTML=a}),2e3)}))})),o.appendChild(c),n.appendChild(o)})),h();const d=document.querySelector("#toc-drag-box");var u,p,y,b,g,w,k,x;d&&("true"===localStorage.getItem(e)?d.setAttribute("invisible",""):d.removeAttribute("invisible"),v.on("cosy-drag-box:toc-box",(()=>{localStorage.setItem(e,"true"),d.invisible=!0})),m({selector:"#toc-show-button",eventType:"click",handler:()=>{localStorage.setItem(e,""+!d.invisible),d.invisible=!d.invisible}}),p=(u={key:"]",preventDefault:!0,handler:()=>{localStorage.setItem(e,""+!d.invisible),d.invisible=!d.invisible}}).key,y=u.handler,b=u.preventDefault,g=void 0!==b&&b,w=p.toLowerCase().split("+").map((function(e){return e.trim()})),k=/Mac|iPod|iPhone|iPad/.test(navigator.platform),x=function(e){w.every((function(t){return"control"===t?k?e.metaKey:e.ctrlKey:e.key.toLowerCase()===t}))&&(g&&e.preventDefault(),y(e))},document.addEventListener("keydown",x)),m({selector:"main.cosy-scrollbar",eventType:"scroll",handler:()=>(e=>{const n=document.querySelector(e);if(n){const e=n.scrollTop;localStorage.setItem(t,String(e))}})("main.cosy-scrollbar")})},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",y):y()})();